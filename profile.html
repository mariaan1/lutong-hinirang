<!DOCTYPE html>
<html>
<head>
  <title>Profile</title>
  <link href="profile.css" rel="stylesheet" type="text/css">
</head>
<body>
<header>
  <div class="logo">
    <a href="home.html"><img src="litratos/1-logo.png" alt="Lutong Hinirang Logo"></a>
  </div>
  <nav>
    <div class="menu-button" id="menu-button">
      <img src="/lutong-hinirang/litratos/hamburger-symbol.png" alt="Menu" />
    </div>
    <ul id="navbar-links">
      <li><a href="public.html">Dashboard</a></li>
      <li><a href="menu.html">Menu</a></li>
      <li><a href="luzon.html">Luzon</a></li>
      <li><a href="visayas.html">Visayas</a></li>
      <li><a href="mindanao.html">Mindanao</a></li>
      <li><a href="portfolio.html">Portfolio Content</a></li>
      <li><a href="gallery.html">Gallery</a></li>
      <li><a href="nutrition_chart.html">Nutrition Chart</a></li>
      <li id="signupItem"><a href="signup.html">Sign Up</a></li>
      <li id="loginItem"><a href="login.html">Login</a></li>
      <li id="logoutItem"><a href="#" onclick="logout()">Logout</a></li>
      <li><a href="admin.html">Admin</a></li>
    </ul>
  </nav>
</header>  

<div class="welcome-section">
  <div class="welcome-content">
        <div id="welcomeMessage" style="display: none; text-align: center; margin: 50px 0; font-style: italic; color: #ffffff; font-family: 'Times New Roman', Times, serif; font-size: 35px;">
        <h3><span style="font-weight: normal;">Welcome, </span><span id="usernameDisplay" style="font-weight: bold;"></span></h3>
      </div>
    <div class="top-bar">
      <h1>Your Recipes</h1>
    </div>

    <div class="create-recipe-box">
      <input type="text" id="recipeTitle" placeholder="Recipe Title">
      <textarea id="recipeContent" placeholder="Enter ingredients, one per line"></textarea>
      <input type="file" id="recipeImage" accept="image/*">
      <button onclick="addRecipe()">Post Recipe</button>
    </div>
    <div class="posts">Posts</div>
    <div class="your-recipes">
      <div id="yourRecipes"></div>
      <div id="editModal">
        <div>
          <h3>Edit Recipe</h3>
          <input type="text" id="editTitle"><br>
          <textarea id="editContent"></textarea><br>
          <input type="file" id="editImage" accept="image/*"><br>
          <button onclick="saveEdit()">Save</button>
          <button onclick="closeModal()">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="credits">
  <div class="names">
    <div>
      <p>Maria Anifur Bautista // Clyde Galban<br> Patrick Laureen Guinto // Benedict Ledesma</p>
    </div>
    <div>
      <h3>BSCPE 402</h3>
    </div>
  </div>
</div>


<script>
  const user = localStorage.getItem('loggedInUser');

  const loginItem = document.getElementById('loginItem');
  const signupItem = document.getElementById('signupItem');
  const logoutItem = document.getElementById('logoutItem');
  const welcomeMessage = document.getElementById('welcomeMessage');

  if (!user) {
    loginItem.style.display = 'list-item';
    signupItem.style.display = 'list-item';
    logoutItem.style.display = 'none';
    welcomeMessage.style.display = 'none';
  } else {
    document.getElementById('usernameDisplay').textContent = user;
    loginItem.style.display = 'none';
    signupItem.style.display = 'none';
    logoutItem.style.display = 'list-item';
    welcomeMessage.style.display = 'block';
  }

  function logout() {
    localStorage.removeItem('loggedInUser');
    location.href = 'login.html';
  }

  document.getElementById('menu-button').addEventListener('click', function () {
    document.getElementById('navbar-links').classList.toggle('active');
  });

  document.addEventListener('click', function (event) {
    const menuButton = document.getElementById('menu-button');
    const navbarLinks = document.getElementById('navbar-links');

    if (!menuButton.contains(event.target) && !navbarLinks.contains(event.target)) {
      navbarLinks.classList.remove('active');
    }
  });
</script>
</body>
</html>
